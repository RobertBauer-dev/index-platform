# =============================================================================
# INDEX PLATFORM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your environment
# cp .env.example .env

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="Index Platform"
APP_VERSION="1.0.0"
APP_DESCRIPTION="Solactive-style financial indexing platform"
DEBUG=false
ENVIRONMENT=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
DATABASE_URL=postgresql://username:password@localhost:5432/index_platform
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=index_platform
DATABASE_USER=username
DATABASE_PASSWORD=password

# BigQuery (Alternative/Additional)
BIGQUERY_PROJECT_ID=your-gcp-project-id
BIGQUERY_DATASET=index_platform
BIGQUERY_CREDENTIALS_PATH=/path/to/service-account-key.json

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Settings
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth2 Settings
OAUTH2_CLIENT_ID=your-oauth2-client-id
OAUTH2_CLIENT_SECRET=your-oauth2-client-secret
OAUTH2_REDIRECT_URI=http://localhost:8000/auth/callback

# Password Hashing
BCRYPT_ROUNDS=12

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_V1_STR=/api/v1
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","https://yourdomain.com"]

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# EXTERNAL API INTEGRATIONS
# =============================================================================
# Financial Data APIs
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-api-key
YAHOO_FINANCE_API_KEY=your-yahoo-finance-api-key
QUANDL_API_KEY=your-quandl-api-key

# Exchange Rate API
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key
EXCHANGE_RATE_BASE_URL=https://api.exchangerate-api.com/v4

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/index-platform/app.log

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# =============================================================================
# FILE STORAGE
# =============================================================================
# Local Storage
UPLOAD_DIR=/tmp/uploads
MAX_FILE_SIZE=10485760  # 10MB

# AWS S3 (Optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=index-platform-data

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
SMTP_SSL=false

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Testing
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/index_platform_test
TEST_REDIS_URL=redis://localhost:6379/15

# Development Tools
RELOAD=true
WORKERS=1

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Production Database (Override in production)
# DATABASE_URL=postgresql://prod_user:prod_password@prod_host:5432/index_platform_prod

# Production Redis (Override in production)
# REDIS_URL=redis://prod_redis_host:6379/0

# Production Security
# SECRET_KEY=your-production-secret-key-256-bits
# DEBUG=false
# ENVIRONMENT=production

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================
# Namespace
K8S_NAMESPACE=index-platform

# Resource Limits
CPU_LIMIT=1000m
MEMORY_LIMIT=2Gi
CPU_REQUEST=500m
MEMORY_REQUEST=1Gi

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_GRAPHQL=true
ENABLE_WEBSOCKET=true
ENABLE_REAL_TIME_PROCESSING=true
ENABLE_ESG_FILTERING=true
ENABLE_BACKTESTING=true
ENABLE_EXPORT_FUNCTIONS=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Cache Settings
CACHE_TTL=3600  # 1 hour
CACHE_MAX_SIZE=1000

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years
DATA_RETENTION_DAYS=2555  # 7 years

# GDPR Compliance
ENABLE_DATA_ANONYMIZATION=true
ENABLE_DATA_DELETION=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backups/index-platform

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================
# Email Alerts
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_RECIPIENTS=admin@yourdomain.com,ops@yourdomain.com

# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Index Platform

# =============================================================================
# CUSTOM INDEX CONFIGURATION
# =============================================================================
MAX_INDEX_CONSTITUENTS=1000
MIN_INDEX_CONSTITUENTS=10
DEFAULT_REBALANCING_FREQUENCY=daily
MAX_BACKTEST_PERIOD_DAYS=3650  # 10 years

# =============================================================================
# DATA SOURCE CONFIGURATION
# =============================================================================
# Market Data Providers
ENABLE_YAHOO_FINANCE=true
ENABLE_ALPHA_VANTAGE=true
ENABLE_QUANDL=true

# Data Update Frequency
PRICE_UPDATE_FREQUENCY=300  # 5 minutes
FUNDAMENTAL_UPDATE_FREQUENCY=86400  # 24 hours
ESG_UPDATE_FREQUENCY=604800  # 7 days

# =============================================================================
# SECURITY HEADERS
# =============================================================================
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]
CORS_EXPOSE_HEADERS=["*"]

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=/api/v1/security/csp-report

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit the actual .env file to version control
# 2. Use strong, unique passwords and API keys in production
# 3. Rotate secrets regularly
# 4. Use environment-specific configurations
# 5. Consider using a secrets management service (AWS Secrets Manager, HashiCorp Vault)
# 6. Test all configurations in a staging environment before production deployment
